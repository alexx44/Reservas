!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){!function(t,e){var i=n(2).getInterface(new e,e.PublicCommands),o=t.HcHeartbeatGlobal||"hcheartbeat",r=t.HcFunnelGlobal||"hcfunnel";t[o]=i,t[r]&&t[r]("event","frontend","heartbeat","loaded")}(window,n(31))},,function(t,e){"use strict";t.exports={getInterface:function(t,e){if(!t.__interfase){for(var n={},i=0,o=e.length;i<o;i++)n[e[i]]=!0;t.__interfase=function(e,n){if(e){var i=Array.prototype.slice.call(arguments,1);return t[e].apply(t,i)}throw new Error("Undefined method "+e)}}return t.__interfase}}},,,,,,function(t,e,n){"use strict";var i=n(9),o=n(10);t.exports=function(t){var e=t||"";return{get:function(t){return i(e+t)},set:function(t,n,i){o(e+t,n,i)},del:function(t){o(e+t,0,0)}}}},function(t,e){"use strict";var n;t.exports=function(t){return n=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)"),n?n.pop():""}},function(t,e){"use strict";t.exports=function(t,e,n){var i=new Date(n||+new Date+31536e6);document.cookie=[t+"="+e,"expires="+i.toUTCString(),"path=/"].join("; ")}},,,,function(t,e){"use strict";t.exports={listen:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},unlisten:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.attachEvent&&t.detachEvent("on"+e,n)}}},function(t,e){"use strict";t.exports=function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}}},,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i=n(15),o=n(32),r=function(){try{this.windowName=String(window.name||Math.round(1e5*Math.random())),this.initBeating(),o.addWindowVisibilityChangeListener(i(this.onWindowVisibilityChange,this)),o.addWindowCloseListener(i(this.onWindowClose,this))}catch(t){var e=document.createElement("IMG");e.src="https://ostrovok.ru/hc/alert?message="+t}};r.INTERVAL=1e3,r.MAX_IDLE=10*r.INTERVAL,r.prototype.initBeating=function(){var t=i(function(){this.beat(),setTimeout(t,r.INTERVAL)},this);t()},r.prototype.beat=function(){o.refreshWindowStatus(r.MAX_IDLE,this.windowName)},r.prototype.onWindowVisibilityChange=function(t){var e=o.processEvent(t),n=null;e===o.EventType.VISIBLE?n=!0:e===o.EventType.HIDDEN&&(n=!1),o.refreshWindowStatus(r.MAX_IDLE,this.windowName,n)},r.prototype.onWindowClose=function(t){o.removeWindowImmediately(r.MAX_IDLE,this.windowName)},r.prototype.getWindowsList=function(){return o.getUserWindows()},r.prototype.getWindow=function(){return o.getUserWindow(this.windowName)},r.prototype.setPlatform=function(t){var e=this.getFunnelData();o.setPlatform(e.windowName,e.platform)},r.PublicCommands=["getWindowsList","getWindow"],t.exports=r},function(t,e,n){"use strict";var i="hcfunnelwindows",o=n(33),r=n(14),s=n(8)(i),a=n(34),u=n(36),d={};d.COOKIE_NAME="list",d.COOKIE_DELIMITER=String.fromCharCode(166),d.EventType={VISIBLE:"visible",HIDDEN:"hidden"},d.EventsMap={focus:d.EventType.VISIBLE,focusin:d.EventType.VISIBLE,pageshow:d.EventType.VISIBLE,blur:d.EventType.HIDDEN,focusout:d.EventType.HIDDEN,pagehide:d.EventType.HIDDEN},d.addWindowVisibilityChangeListener=function(t){var e=function(e){r.listen(document,e,t)};this._windowHiddenProperty="hidden",this._windowHiddenProperty in document?e("visibilitychange"):(this._windowHiddenProperty="mozHidden")in document?e("mozvisibilitychange"):(this._windowHiddenProperty="webkitHidden")in document?e("webkitvisibilitychange"):(this._windowHiddenProperty="msHidden")in document?e("msvisibilitychange"):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t,r.listen(document,"mousemove",u(t,1e3))},d.addWindowCloseListener=function(t){r.listen(window,"beforeunload",t)},d.processEvent=function(t){return t=t||window.event||new Event("undefined"),t.type in d.EventsMap?d.EventsMap[t.type]:"mousemove"===t.type?d.EventType.VISIBLE:document[this._windowHiddenProperty]?d.EventType.HIDDEN:d.EventType.VISIBLE},d.getUserWindows=function(){var t=this.cookieDecode(s.get(d.COOKIE_NAME));return o.map(t,function(t){return{timestamp:t.timestamp,visibilityState:t.visibilityState,windowName:t.windowName}})},d.getUserWindow=function(t){return o.filter(this.getUserWindows(),function(e){return e.windowName===t})[0]},d.refreshWindowStatus=function(t,e,n,i){var o=s.get(d.COOKIE_NAME),r=this.cookieDecode(o);r=this.removeDeadWindows(r,t),r=this.updateWindows(r,e,n,i),o=this.cookieEncode(r),s.set(d.COOKIE_NAME,o)},d.updateWindows=function(t,e,n,i,r){var s=t,u=new Date;if(e){var d=o.findIndex(s,function(t){return t.getName()===e}),c=null;if("boolean"==typeof n&&(c=n),d===-1){var f=new a(e,u,(!!c),r);s.push(f)}else i?s.splice(d,1):(s[d].timestamp=u,null!==c&&(s[d].visibilityState=c),r&&s[d].setPlatform(r))}return s},d.cookieDecode=function(t){if(t){for(var e=decodeURIComponent(t),n=e.split(d.COOKIE_DELIMITER),i=0;i<n.length;i++)n[i]=new a(n[i]);return n}return[]},d.cookieEncode=function(t){return encodeURIComponent(o.map(t,function(t){return t.encode()}).join(d.COOKIE_DELIMITER))},d.removeDeadWindows=function(t,e){var n=+new Date;return o.filter(t,function(t){return+t.timestamp+e>n})},d.removeWindowImmediately=function(t,e){this.refreshWindowStatus(t,e,null,!0)},d.setPlatform=function(t,e){var n=s.get(d.COOKIE_NAME),i=this.cookieDecode(n);i=this.updateWindows(i,t,null,null,e),n=this.cookieEncode(i),s.set(d.COOKIE_NAME,n)},t.exports=d},function(t,e){"use strict";var n=function(t,e){if(Array.prototype.findIndex)return t.findIndex(e);var n;for(n=0;n<t.length&&!(n in t&&e(t[n]));n++);return n},i=function(t,e,n){if(Array.prototype.map)return t.map(e,n);for(var i=[],o=0;o<t.length;o++)o in t&&(i[o]=e.call(n,t[o],o,t));return i},o=function(t,e,n){if(Array.prototype.filter)return t.filter(e,n);for(var i=[],o=0;o<t.length;o++)o in t&&e.call(n,t[o],o,t)&&i.push(t[o]);return i};t.exports={findIndex:n,map:i,filter:o}},function(t,e,n){"use strict";var i=n(35),o=function(){if(1===arguments.length)this.parseCookieString(arguments[0]);else{if(!(arguments.length>=3))throw new Error("UserWindow recieve one or >=three params but get "+arguments.length);this.windowName=arguments[0],this.timestamp=arguments[1],this.visibilityState=arguments[2],this.platform=this.encodePlatform(arguments[3])}};o.ENCODED_VALUES_LENGTH=10,o.ENCODED_VALUES_BASE=32,o.WindowVisibilityStatus={VISIBLE:"v",HIDDEN:"h"},o.prototype.getName=function(){return this.windowName},o.prototype.decodeTimestamp=function(t){var e=parseInt(t,o.ENCODED_VALUES_BASE);return new Date(e)},o.prototype.encodeTimestamp=function(t){for(var e="",n=0;n<o.ENCODED_VALUES_LENGTH;n++)e+="0";var r=t.getTime().toString(o.ENCODED_VALUES_BASE);return i.padLeft(r,e)},o.prototype.encodePlatform=function(t){for(var e="",n=0;n<o.ENCODED_VALUES_LENGTH;n++)e+="0";var r="";return t&&(r=i.hashCode(t).toString(o.ENCODED_VALUES_BASE)),i.padLeft(r,e)},o.prototype.setPlatform=function(t){this.platform=this.encodePlatform(t)},o.prototype.parseCookieString=function(t){var e=t.substr(0,o.ENCODED_VALUES_LENGTH),n=t.substr(o.ENCODED_VALUES_LENGTH,o.ENCODED_VALUES_LENGTH),i=t[2*o.ENCODED_VALUES_LENGTH],r=t.substr(2*o.ENCODED_VALUES_LENGTH+1,t.length);if(this.timestamp=this.decodeTimestamp(e),i===o.WindowVisibilityStatus.VISIBLE)this.visibilityState=!0;else{if(i!==o.WindowVisibilityStatus.HIDDEN)throw new Error("Undefined visibility state "+i);this.visibilityState=!1}this.windowName=r,this.platform=n},o.prototype.encode=function(){var t="";t+=this.encodeTimestamp(this.timestamp),t+=this.platform;var e=this.visibilityState?o.WindowVisibilityStatus.VISIBLE:o.WindowVisibilityStatus.HIDDEN;return t+=e,t+=this.windowName},t.exports=o},function(t,e){"use strict";var n=function(t,e){return String(e+t).slice(t.length)},i=function(t){if(Array.prototype.reduce)return t.split("").reduce(function(t,e){return t=(t<<5)-t+e.charCodeAt(0),t&t},0);var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n++){var i=t.charCodeAt(n);e=(e<<5)-e+i,e&=e}return e};t.exports={padLeft:n,hashCode:i}},function(t,e){"use strict";t.exports=function(t,e,n){e=e||300;var i,o;return function(){var r=n||this,s=new Date;i&&+i+e>+s?(clearTimeout(o),o=setTimeout(function(){t.apply(r,arguments),i=s},e)):(t.apply(r,arguments),i=s)}}}]);